
@{
    ViewBag.Title = "List of Orders";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
<h3 class="page-title">
    List of Orders
</h3>
<div class="page-bar">
    <ul class="page-breadcrumb">
        <li>
            <i class="fa fa-home"></i>
            <a href="index.html">Home</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="#">Dashboard</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="#">Reporting</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="#">List of Orders</a>
        </li>
    </ul>
</div>
<!-- END PAGE HEADER-->
<!-- BEGIN PAGE CONTENT-->
<div class="row">
    <div class="col-md-12">
        <!-- BEGIN EXAMPLE TABLE PORTLET-->
        <div class="portlet box blue">
            <div class="portlet-title">
                <div class="caption">
                    <i class="fa fa-edit"></i>List of Orders
                </div>
            </div>
            <div class="portlet-body">
                <div class="row form-group">
                    <div class="col-md-6">
                        <label class="control-label">Check-in:</label>
                        <div class="input-icon">
                            <i class="fa fa-calendar"></i>
                            <input class="form-control date-picker" size="16" type="text" value="12-02-2012" data-date="12-02-2012" data-date-format="dd-mm-yyyy" data-date-viewmode="years" />
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label class="control-label">Check-out:</label>
                        <div class="input-icon">
                            <i class="fa fa-calendar"></i>
                            <input class="form-control date-picker" size="16" type="text" value="12-02-2012" data-date="12-02-2012" data-date-format="dd-mm-yyyy" data-date-viewmode="years" />
                        </div>
                    </div>
                </div>
                <table class="table table-striped table-hover table-bordered" id="tblLists">
                    <thead>
                        <tr>
                            <th>
                                TransactionId
                            </th>
                            <th>
                                ApprovalCode
                            </th>
                            <th>
                                ApprovalMessage
                            </th>
                            <th>
                                ErrorMessage
                            </th>
                            <th>
                                ProposalNumber
                            </th>
                            <th>
                                CustomerName
                            </th>
                            <th>
                                CompanyName
                            </th>
                            <th>
                                CreationDate
                            </th>
                            <th>
                                CreatedBy
                            </th>
                            <th>
                                Action
                            </th>
                        </tr>
                    </thead>
                </table>
            </div>
            <!-- END EXAMPLE TABLE PORTLET-->
        </div>
    </div>
</div>
<!-- END PAGE CONTENT -->
@section scripts{
    <!-- BEGIN PAGE LEVEL PLUGINS -->
    <script src="~/Areas/Admin/Script/customer.js"></script>
    <script>
        jQuery(document).ready(function () {
            Metronic.init(); // init metronic core components
            Layout.init(); // init current layout
            QuickSidebar.init(); // init quick sidebar
            Demo.init(); // init demo features

            var tableColumns = [
                {
                    "mDataProp": "TransactionId",
                    "bSearchable": false,
                    "bSortable": false,
                    //"bVisible": false
                },
                { "mDataProp": "ApprovalCode" },
                { "mDataProp": "ApprovalMessage" },
                { "mDataProp": "ErrorMessage" },
                { "mDataProp": "ProposalNumber" },
                { "mDataProp": "CustomerName" },
                { "mDataProp": "CompanyName" },
                { "mDataProp": "CreationDate" },
                { "mDataProp": "CreatedBy" },
                {
                    data: null,
                    className: "center",
                    defaultContent: '<a href="/admin/customer/delete?id=" class="delete-link" data-type="customer">Delete</a>'
                }
            ];

            $('#tblLists thead tr#filterrow th').each(function () {
                //debugger;
                var title = $('#tblLists thead th').eq($(this).index()).text();
                title = title.replace("\n", "").replace("\n", "").trim();
                if (title !== "Action") {
                    $(this).html('<input type="text" onclick="stopPropagation(event);" class="form-control" placeholder="Search ' + title + '" />');
                }
                else {
                    $('#tblLists thead tr#filterrow th').eq($(this).index()).text("");
                }
            });

            CustomerActions.init("/Admin/Reporting/LoadingOrder", tableColumns);
            $("#tblLists_filter").css("display", "none"); //hide common/global filter
        });

        function stopPropagation(evt) {
            if (evt.stopPropagation !== undefined) {
                evt.stopPropagation();
            } else {
                evt.cancelBubble = true;
            }
        }
    </script>
}
